(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{1075:function(t,e,a){"use strict";a.r(e);var n=a(19),o=a(20),l=a(50),r=a(22),s=a(21),c=a(0),i=a.n(c),u=a(38),d=a(287),g=a(288),m=a(24),p=a(7),h=a(90),f=a(126),E=a(102),S=(a(207),function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],new E.default("l","mm",[297,210])),n=[],o=[],l=30,r=0,s=0,c=0,i=0;a.setFontSize(15),a.text("LAPORAN SERVICES",14,15),a.setFontSize(20),a.text(Object(p.j)().nama_toko,200,15),a.setFontSize(8);var u=Object(p.j)().alamat_toko.length;u>20&&a.text(Object(p.j)().alamat_toko.slice(0,48),200,20),u>50&&a.text(Object(p.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN SERVICES"}),a.text("PERIODE : ".concat(0===Object(p.l)("tgl_laporan").length?null:JSON.parse(Object(p.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(p.l)("tgl_laporan")).tgl_akhir),14,25),t=[[{content:"TANGGAL TRANSAKSI"},{content:"KODE SALES"},{content:"NAMA CUSTOMER"},{content:"NO HP"},{content:"ALAMAT CUSTOMER"},{content:"KODE GUDANG"},{content:"Total Service",styles:{halign:"right"}}]],e.forEach(function(t,e){var a=[{content:"No Services : ".concat(t._id.no_faktur_service," "),colSpan:7}];n.push(a),t.detail.forEach(function(t,e){var a=[t.tgl_system,t.kode_sales,t.nama_customer,t.no_hp,t.alamat_customer,t.kode_gudang,{content:t.total.toLocaleString("kr-KO"),styles:{halign:"right"}}];n.push(a),t.detail_barang.forEach(function(t,e){o=[{content:"Detail Barang",colSpan:7,styles:{halign:"center"}}],n.push(o),n.push([{content:"Nama Barang",colSpan:2,styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"BERAT",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"JUMLAH",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"Ongkos",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"Deskripsi",colSpan:3,styles:{fillColor:"#E8E5E5",textColor:"#000"}}]),i+=parseInt(t.ongkos)*parseInt(t.jumlah),c+=t.jumlah,s+=t.berat;var a=[{content:t.nama_barang,colSpan:2},t.berat.toFixed(3),t.jumlah,(parseInt(t.ongkos)*parseInt(t.jumlah)).toLocaleString("kr-KO"),{content:t.deskripsi,colSpan:2}];n.push(a)}),r+=t.detail_barang.length})});var d=[{content:"Printed By ".concat(JSON.parse(Object(p.l)("userdata")).user_id," / ").concat(Object(p.i)()),colSpan:8,styles:{fontStyle:"italic",textColor:"#000"}}];n.push(d),a.autoTable({head:t,body:n,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},footStyles:{fontSize:8},bodyStyles:{fontSize:8},headStyles:{fontSize:8,fillColor:"#E8E5E5",textColor:"#000"},tableLineColor:[255,255,255],tableLineWidth:1}),l=a.autoTableEndPosY()+3,n=[],a.text("User                          : ".concat(JSON.parse(Object(p.l)("userdata")).user_id),14,l+10),a.text("Cetak                        : ".concat(Object(p.i)()),14,l+16),a.text("Total Berat                : ".concat(s.toFixed(3)),14,l+22),a.text("Total Jumlah             : ".concat(c),14,l+28),a.text("Total Ongkos            : ".concat(parseInt(i).toLocaleString("kr-KO")),14,l+34),a.text("Total Barang             : ".concat(r),14,l+40);var g=a.internal.getNumberOfPages(),m=a.internal.pageSize.width,h=a.internal.pageSize.height;a.setFontSize(10);for(var f=1;f<g+1;f++){var S=m/2,b=h-10;a.setPage(f),a.text("".concat(f," of ").concat(g),S,b,{align:"center"})}var v=a.output("datauristring");PrintPenjualan.postMessage(v)}),b=function(t){Object(r.a)(a,t);var e=Object(s.a)(a);function a(t){var o;return Object(n.a)(this,a),(o=e.call(this,t)).state={date:new Date},o.setStartDate=o.setStartDate.bind(Object(l.a)(o)),o.setLastDate=o.setLastDate.bind(Object(l.a)(o)),o}return Object(o.a)(a,[{key:"exportPdf",value:function(){S(this.props.LaporanServices)}},{key:"setStartDate",value:function(t){this.setState({tgl_awal:new Date(t)})}},{key:"setLastDate",value:function(t){this.setState({tgl_akhir:new Date(t)})}},{key:"render",value:function(){var t=this,e=0,a=[];this.props.LaporanServices.forEach(function(t,n){t.detail.forEach(function(t,n){a.push(t),e+=t.total})});var n=[{dataField:"no_faktur_service",text:"No Faktur",footerAttrs:{colSpan:"7"},footer:function(t,e,n,o){return i.a.createElement("div",null,"Total Services : ",a.length," ")}},{dataField:"tgl_system",text:"Tgl Transaksi"},{dataField:"kode_sales",text:"Kode Sales"},{dataField:"nama_customer",text:"Nama Customer"},{dataField:"no_hp",text:"No Hp"},{dataField:"alamat_customer",text:"Alamat Customer"},{dataField:"kode_gudang",text:"Kode Gudang"},{dataField:"total",text:"Total Service",headerClasses:"text-right",footer:function(t,a,n,o){return i.a.createElement("div",{className:"text-right"},e.toLocaleString("kr-KO")," ")},formatter:function(t){return i.a.createElement("div",{className:"text-right"},t.toLocaleString("kr-KO"))}}];return i.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(d.a,{name:"tgl_awal",component:m.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:function(e){return t.setStartDate(e)},placeholder:"Masukan Tanggal Dari",onFocus:function(){return setTimeout(function(){HideKeyboard.postMessage("")},100)}})),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(d.a,{name:"tgl_akhir",component:m.c,type:"text",selected:this.state.tgl_akhir,onChange:function(e){return t.setLastDate(e)},label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir",onFocus:function(){return setTimeout(function(){HideKeyboard.postMessage("")},100)}})),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"text-right"},i.a.createElement("label",null,"\xa0"),i.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),i.a.createElement("div",{className:"col-lg-12"},i.a.createElement(h.a,{keyField:"no_hp",data:this.props.export?a:[],columns:n,empty:!0,textEmpty:"Data Laporan Transaksi Service Kosong"})),i.a.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-12"},i.a.createElement("button",{onClick:function(){return t.exportPdf()},className:"btn btn-warning btn-block"}," ","Export PDF"," "))))))}}]),a}(c.Component);b=Object(g.a)({form:"HeadFormLaporanService",enableReinitialize:!0,validate:f.a})(b);e.default=Object(u.b)(function(t){return{initialValues:{tgl_awal:Object(p.h)(),tgl_akhir:Object(p.h)()}}})(b)}}]);
//# sourceMappingURL=108.89100993.chunk.js.map