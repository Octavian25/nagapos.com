(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1178:function(a,t,e){"use strict";e.r(t);var n=e(19),i=e(20),o=e(50),c=e(22),s=e(21),r=e(0),d=e.n(r),h=e(42),l=e(75),m=e(84),u=e.n(m),p=e(85),b=e.n(p),f=e(104),E=e.n(f),k=e(11),j=e(38),v=e(29),O=e.n(v),S=e(43),D=e(13),g=e(52),N=e(7),H=e(287),_=e(288),M=e(24),y=e(704),x=function(a){Object(c.a)(e,a);var t=Object(s.a)(e);function e(){var a;Object(n.a)(this,e);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(a=t.call.apply(t,[this].concat(o))).state={aktif:!1},a}return Object(i.a)(e,[{key:"componentDidMount",value:function(){var a=this;setTimeout(function(){a.props.isEdit,document.getElementById("nama_hadiah").focus()},100)}},{key:"render",value:function(){var a=this;return d.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},d.a.createElement(H.a,{id:"kode_hadiah",tabIndex:"1",name:"kode_hadiah",component:M.b,type:"hidden"}),d.a.createElement(H.a,{id:"nama_hadiah",tabIndex:"2",name:"nama_hadiah",component:M.e,type:"text",label:" Nama Hadiah",placeholder:"Masukan  Nama Hadiah"}),d.a.createElement(H.a,{tabIndex:"3",name:"poin",component:M.e,type:"number",label:"Poin",placeholder:"Masukan Poin"}),d.a.createElement(H.a,{tabIndex:"4",name:"stock",component:M.e,type:"number",label:" Stock",placeholder:"Masukan Stock",onBlur:function(){return a.setState({aktif:!0})}}),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 text-right"},d.a.createElement("button",{className:"btn btn-white",onClick:function(){return a.props.dispatch(Object(k.Cb)())},type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",d.a.createElement("button",{tabIndex:"5",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?d.a.createElement(d.a.Fragment,null,d.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))))}}]),e}(r.Component);x=Object(_.a)({form:"ModalHadiah",enableReinitialize:!0,validate:y.a})(x);var w=Object(j.b)(function(a){if(null!==a.datamaster.ShowModalDataHadiah)return{initialValues:{nama_hadiah:a.datamaster.ShowModalDataHadiah.nama_hadiah,poin:a.datamaster.ShowModalDataHadiah.poin,stock:a.datamaster.ShowModalDataHadiah.stock,kode_hadiah:a.datamaster.ShowModalDataHadiah.kode_hadiah}}},null)(x),C=e(208),B=p.Search.SearchBar,L=p.CSVExport.ExportCSVButton,P=function(a,t,e){O.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Nama Hadiah "+a+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(a){a.isConfirmed&&Object(D.b)("hadiah/delete/by-kode-hadiah/",{kode_hadiah:t}).then(function(){Object(S.d)("Data Berhasil Di Hapus").then(function(){return e(Object(k.ob)())})}).catch(function(a){Object(S.e)("error",a.response.data)})})},T=function(a){Object(c.a)(e,a);var t=Object(s.a)(e);function e(a){var i;return Object(n.a)(this,e),(i=t.call(this,a)).state={isEdit:!1,isLoading:!1,modalDialog:!1,columns:[{dataField:"nama_hadiah",text:"Nama Hadiah",sort:!0},{dataField:"poin",text:"Poin"},{dataField:"stock",text:"Stock"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(a,t){var e={kode_hadiah:t.kode_hadiah,nama_hadiah:t.nama_hadiah,stock:t.stock,poin:t.poin};return d.a.createElement("div",{className:"row text-center"},d.a.createElement("div",{className:"col-12"},d.a.createElement("button",{onClick:function(){return i.formEditDataHadiah(e)},className:"btn btn-primary mr-3"},d.a.createElement("i",{className:"fa fa-edit"})),d.a.createElement("button",{onClick:function(){return P(t.nama_hadiah,t.kode_hadiah,i.props.dispatch)},className:"btn btn-danger"},d.a.createElement("i",{className:"fa fa-trash"}))))}}]},i.handleSubmit=i.handleSubmit.bind(Object(o.a)(i)),i}return Object(i.a)(e,[{key:"formEditDataHadiah",value:function(a){this.props.dispatch(Object(k.Db)()),this.props.dispatch(Object(k.V)(a)),this.setState({isEdit:!0})}},{key:"ShowModalDataHadiah",value:function(){this.props.dispatch(Object(k.Db)()),this.props.dispatch(Object(k.V)(!1)),this.setState({isEdit:!1})}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(k.ob)())}},{key:"handleSubmit",value:function(a){var t=this;this.setState({isLoading:!0});var e={kode_hadiah:a.kode_hadiah,nama_hadiah:a.nama_hadiah,poin:a.poin,stock:a.stock},n={nama_hadiah:a.nama_hadiah,poin:a.poin,stock:a.stock};this.state.isEdit?Object(D.m)("hadiah/edit/by-kode-hadiah",e).then(function(){t.props.dispatch(Object(k.Cb)())}).then(function(){Object(S.e)("success","Data Berhasil Diedit")}).then(function(){t.props.dispatch(Object(k.ob)())}).then(function(){t.setState({isLoading:!1})}).then(function(){t.props.dispatch(Object(g.e)("ModalHadiah"))}).catch(function(a){Object(S.e)("info","Terjadi Kesalahan Saat Mengirim Data"),t.setState({isLoading:!1})}):Object(D.h)("hadiah/add",n).then(function(){t.props.dispatch(Object(k.Cb)())}).then(function(){Object(S.e)("success","Data Berhasil Simpan")}).then(function(){t.props.dispatch(Object(k.ob)())}).then(function(){t.props.dispatch(Object(g.e)("ModalHadiah"))}).then(function(){t.setState({isLoading:!1})}).catch(function(e){return Object(N.a)(e,"sales/reactive/by-kode-sales/",a.kode_sales,n,t.props.dispatch,Object(k.ob)(),Object(k.Cb)(),"ModalHadiah").then(function(){t.setState({isLoading:!1})})})}},{key:"render",value:function(){var a=this;return d.a.createElement("div",null,d.a.createElement("ol",{className:"breadcrumb float-xl-right"},d.a.createElement("li",{className:"breadcrumb-item"},d.a.createElement(h.b,{to:"#"},"Data Master")),d.a.createElement("li",{className:"breadcrumb-item active"},"Master Data Hadiah")),d.a.createElement("h1",{className:"page-header"},"Master Data Hadiah "),d.a.createElement(l.a,null,d.a.createElement(l.c,null,"Master Data Hadiah"),d.a.createElement("br",null),d.a.createElement("div",{className:"container"},d.a.createElement(b.a,{keyField:"kondisi",data:this.props.datahadiah||[],columns:this.state.columns,search:!0,exportCSV:{fileName:"Export Master Data Hadiah.csv"}},function(t){return d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("button",{onClick:function(){return a.ShowModalDataHadiah()},className:"btn btn-primary"}," ",d.a.createElement("i",{className:"fa fa-plus"})," ")),d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"text-right"},d.a.createElement(B,t.searchProps))),d.a.createElement("hr",null),d.a.createElement("div",{className:"col-12"},d.a.createElement(u.a,Object.assign({pagination:E()()},t.baseProps)),d.a.createElement("br",null),d.a.createElement(L,t.csvProps,"Export CSV!!")))})),d.a.createElement("br",null),d.a.createElement(C.a,{title:this.state.isEdit?"Edit Data Data Hadiah":"Tambah Data Data Hadiah",size:"P",content:d.a.createElement(w,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:function(t){return a.handleSubmit(t)}})})))}}]),e}(d.a.Component);t.default=Object(j.b)(function(a){return{datahadiah:a.datamaster.getDataHadiah,hideModal:a.datamaster.modalDialog}},null)(T)},704:function(a,t,e){"use strict";t.a=function(a,t){var e={};return a.nama_hadiah||(e.nama_hadiah="Nama Hadiah Tidak Boleh Kosong"),a.poin||(e.poin="Poin Tidak Boleh Kosong"),e}}}]);
//# sourceMappingURL=33.9653ae39.chunk.js.map