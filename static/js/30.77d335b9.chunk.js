(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1074:function(e,t,a){"use strict";a.r(t);var l=a(19),n=a(20),r=a(50),o=a(22),s=a(21),c=a(0),i=a.n(c),m=a(38),g=a(287),u=a(288),h=a(11),d=a(24),p=a(7),E=a(90),b=a(733),f=a(125),k=a.n(f),v=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(n.a)(a,[{key:"render",value:function(){var e=0,t=0,a=0;return this.props.data.forEach(function(l,n){e+=parseFloat(l.berat),e+=parseFloat(l.berat),t+=l.harga,a+=l.jumlah,l.length}),i.a.createElement(i.a.Fragment,null,i.a.createElement(k.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Pembelian Pramuniaga",sheet:"Laporan Pembelian Pramuniaga",buttonText:"Export Exel"}),i.a.createElement("table",{id:"table-to-xls",style:{display:"none"}},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"4"}," Laporan Pembelian Sales ")),i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"4"}," ","Periode"," ",0===Object(p.l)("tgl_laporan").length?null:JSON.parse(Object(p.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(p.l)("tgl_laporan")).tgl_akhir," ")),i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"4"}," TOKO :  ",Object(p.j)().nama_toko," ")),i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"4"}," ALAMAT :  ",Object(p.j)().alamat_toko," ")),i.a.createElement("tr",null,i.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"SALES"),i.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"}},"BERAT"),i.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TOTAL QTY"),i.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TOTAL PEMBELIAN RP"))),i.a.createElement("tbody",null,this.props.data.map(function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement("tr",null,i.a.createElement("td",null,e._id.kode_sales),i.a.createElement("td",{style:{textAlign:"right"}},Object(p.f)(e.berat,3)),i.a.createElement("td",{style:{textAlign:"right"}},e.jumlah),i.a.createElement("td",{style:{textAlign:"right"}},e.harga.toLocaleString("kr-KO"))))})),i.a.createElement("tfoot",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"}}),i.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},Object(p.f)(e,3)),i.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},a),i.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},t.toLocaleString("kr-KO"))))))}}]),a}(c.Component),O=a(102),S=(a(207),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],new O.default("L","mm")),a=[],l=[],n=30;t.setFontSize(15),t.text("LAPORAN PEMBELIAN SALES",14,15),t.setFontSize(20),t.text(Object(p.j)().nama_toko,200,15),t.setFontSize(8);var r=Object(p.j)().alamat_toko.length;r>20&&t.text(Object(p.j)().alamat_toko.slice(0,48),200,20),r>50&&t.text(Object(p.j)().alamat_toko.slice(48,90),200,25),t.setFontSize(10),t.text("PERIODE : ".concat(0===Object(p.l)("tgl_laporan").length?null:JSON.parse(Object(p.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(p.l)("tgl_laporan")).tgl_akhir),14,25),t.setProperties({title:"LAPORAN PEMBELIAN PRAMUNIAGA"});var o=0,s=0,c=0;e.forEach(function(e,t){var l=[e._id.kode_sales,{content:Object(p.f)(e.berat,3),styles:{halign:"right"}},{content:parseInt(e.jumlah),styles:{halign:"right"}},{content:parseInt(e.harga).toLocaleString("kr-KO"),styles:{halign:"right"}}];o+=parseFloat(e.jumlah),s+=parseFloat(e.harga),c+=parseFloat(e.berat),a.push(l)});var i=[{content:"",styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(c.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:o.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:s.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];a.push(i);var m=[{colSpan:9,content:"Printed By ".concat(JSON.parse(Object(p.l)("userdata")).user_id," / ").concat(Object(p.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];a.push(m),t.autoTable({head:[[{content:"SALES"},{content:"BERAT",styles:{halign:"right"}},{content:"TOTAL QTY",styles:{halign:"right"}},{content:"TOTAL PEMBELIAN RP",styles:{halign:"right"}}]],body:a,foot:l,startY:n,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,fillColor:"#E8E5E5",textColor:"#000"}}),n=t.autoTableEndPosY()+3,a=[],l=[];var g=t.internal.getNumberOfPages(),u=t.internal.pageSize.width,h=t.internal.pageSize.height;t.setFontSize(10);for(var d=1;d<g+1;d++){var E=u/2,b=h-10;t.setPage(d),t.text("".concat(d," of ").concat(g),E,b,{align:"center"})}var f=t.output("datauristring"),k=window.open();k.document.open(),k.document.write("<html><head><title>LAPORAN PEMBELIAN PRAMUNIAGA</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+f+"></embed></body></html>")}),_=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={date:new Date},n.setStartDate=n.setStartDate.bind(Object(r.a)(n)),n.setLastDate=n.setLastDate.bind(Object(r.a)(n)),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(h.ub)()),this.props.change("kode_sales","ALL"),this.props.dispatch(Object(h.v)()),this.props.change("kode_group","ALL"),this.props.change("jenis_group","ALL")}},{key:"setStartDate",value:function(e){this.setState({tgl_awal:new Date(e)})}},{key:"setLastDate",value:function(e){this.setState({tgl_akhir:new Date(e)})}},{key:"exportPdf",value:function(){S(this.props.LaporanTransaksiPembelian)}},{key:"render",value:function(){var e=this,t=[{value:"ALL",name:"SEMUA"}];this.props.GetDataGroup.forEach(function(e){var a={name:e.kode_group,value:e.kode_group};t.push(a)});var a=[],l=0,n=0,r=0;this.props.LaporanTransaksiPembelian.forEach(function(e){var t={kode_sales:e._id.kode_sales,berat:e.berat,harga:e.harga,jumlah:e.jumlah};a.push(t),l+=e.berat,n+=e.harga,r+=e.jumlah});var o=[{dataField:"kode_sales",text:"Kode Sales",footer:""},{dataField:"berat",text:"Berat",headerClasses:"text-right",footer:function(e,t,a,n){return i.a.createElement("div",{className:"text-right"},Object(p.f)(l,3)," ")},formatter:function(e){return i.a.createElement("div",{className:"text-right"}," ",Object(p.f)(e,3)," ")}},{dataField:"jumlah",text:"Total Qty",headerClasses:"text-right",footer:function(e,t,a,l){return i.a.createElement("div",{className:"text-right"},r.toLocaleString("kr-KO")," ")},formatter:function(e){return i.a.createElement("div",{className:"text-right"},e.toLocaleString("kr-KO"))}},{dataField:"harga",text:"Total Pembelian Rp",headerClasses:"text-right",footer:function(e,t,a,l){return i.a.createElement("div",{className:"text-right"},n.toLocaleString("kr-KO")," ")},formatter:function(e){return i.a.createElement("div",{className:"text-right"},e.toLocaleString("kr-KO"))}}],s=[{value:"ALL",name:"SEMUA"}];return this.props.datasales.map(function(e){var t={value:e.kode_sales,name:e.kode_sales+" - "+e.nama_sales};return s.push(t),!0}),i.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(g.a,{name:"tgl_awal",component:d.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:function(t){return e.setStartDate(t)},placeholder:"Masukan Tanggal Dari"})),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(g.a,{name:"tgl_akhir",component:d.c,type:"text",selected:this.state.tgl_akhir,onChange:function(t){return e.setLastDate(t)},label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(g.a,{label:"Kode Sales",name:"kode_sales",options:s,placeholder:"Silahkan Pilih Nama Sales",component:d.f})),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(g.a,{name:"kode_group",component:d.f,options:t,onChange:function(t){return e.setState({kode_group:t})},label:"Kode Group",placeholder:"Pilih Kode Group"})),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(g.a,{name:"jenis_group",component:d.f,options:[{value:"ALL",name:"SEMUA"},{value:"MUDA",name:"MUDA"},{value:"TUA",name:"TUA"}],label:"Jenis Group",placeholder:"Pilih Jenis Group"})),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"text-right"},i.a.createElement("label",null,"\xa0"),i.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),i.a.createElement("div",{className:"col-lg-12"},i.a.createElement(E.a,{keyField:"kode_barcode",data:this.props.export?a:[],columns:o,empty:!0,textEmpty:"Data Laporan Transaksi Pembelian Kosong"})),i.a.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-6"},i.a.createElement("button",{type:"button",onClick:function(){return e.exportPdf()},className:"btn btn-warning btn-block"}," ","Export PDF"," ")),i.a.createElement("div",{className:"col-lg-6"},i.a.createElement(v,{data:this.props.LaporanTransaksiPembelian}))))))}}]),a}(c.Component);_=Object(u.a)({form:"HeadFormLaporanPembelianSales",enableReinitialize:!0,validate:b.a})(_);t.default=Object(m.b)(function(e){return{datasales:e.datamaster.getDataSales,GetDataGroup:e.datamaster.GetDataGroup,initialValues:{tgl_awal:Object(p.h)(),tgl_akhir:Object(p.h)()}}})(_)},733:function(e,t,a){"use strict";t.a=function(e){var t={};return e.tanggal_awal||(t.tanggal_awal="Tanggal Tidak Boleh Kosong"),e.sampai_tgl||(t.sampai_tgl="Tanggal Tidak Boleh Kosong"),e.kode_sales||(t.kode_sales="Kode Tidak Boleh Kosong"),t}}}]);
//# sourceMappingURL=30.77d335b9.chunk.js.map