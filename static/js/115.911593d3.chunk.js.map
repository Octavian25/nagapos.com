{"version":3,"sources":["pages/Penjualan/BatalTitipan/HeadBatalTitipan.jsx","pages/Penjualan/BatalTitipan/index.jsx"],"names":["HeadBatalTitipan","props","_this","Object","classCallCheck","this","_super","call","state","date","Date","setStartDate","bind","assertThisInitialized","setLastDate","data","setState","tgl_awal","tgl_akhir","_this2","library","createElement","onSubmit","handleSubmit","onKeyPress","e","key","preventDefault","autoComplete","className","name","component","InputDate","label","type","selected","onChange","placeholder","onFocus","setTimeout","HideKeyboard","postMessage","value","isLoading","Fragment","React","Component","reduxForm","form","enableReinitialize","connect","initialValues","getTglSystem","BatalTitipan","batal","datatitipan","databaki","columns","dataField","text","footerAttrs","colSpan","footer","formatter","rowcontent","row","index","parseInt","total_dp","toLocaleString","columnData","reduce","acc","item","cell","csvExport","headerClasses","disabled","status_titipan","data-tooltip","onClick","showPilihBaki","no_titip_group","Swal","fire","title","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","then","result","isConfirmed","tanggal","getItem","putData2","kode_toko","kode_baki","res","ToastNotification","dispatch","hideModal","getData2","hasil","filter","kode_barcode","nama_barang","kode_customer","nama_customer","nama_atribut","no_hp","alamat_customer","berat_atribut","harga_atribut","ongkos","harga_total","findIndex","x","push","catch","error","test","response","message","showModal","_this3","context","handleSetPageSidebar","handleSetPageHeader","getData","_this4","length","data_post","formatDate","moment","format","setItem","err","undefined","_this5","expandRow","renderer","toFixed","showExpandColumn","expandByColumnOnly","to","data-tut","aria-hidden","BatalTitipan_HeadBatalTitipan","keyField","exportCsv","empty","textEmpty","size","content","ReanderSelect","options","list","map","batalTitipan","loading_default","a","loading","background","loaderColor","contextType","PageSettings"],"mappings":"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","file":"static/js/115.911593d3.chunk.js","sourcesContent":["/* eslint-disable no-undef */\r\nimport { React, connect, reduxForm, InputDate, Field, getTglSystem } from \"../../../components/helpers/library\";\r\n// import Loading from 'react-fullscreen-loading';\r\n\r\nclass HeadBatalTitipan extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      date: new Date(),\r\n    };\r\n    this.setStartDate = this.setStartDate.bind(this);\r\n    this.setLastDate = this.setLastDate.bind(this);\r\n  }\r\n\r\n  handleSubmit(data) {}\r\n  setStartDate(date) {\r\n    this.setState({\r\n      tgl_awal: new Date(date),\r\n    });\r\n  }\r\n  setLastDate(date) {\r\n    this.setState({\r\n      tgl_akhir: new Date(date),\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form\r\n          onSubmit={this.props.handleSubmit}\r\n          onKeyPress={(e) => {\r\n            e.key === \"Enter\" && e.preventDefault();\r\n          }}\r\n          autoComplete=\"off\"\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-4\">\r\n              <Field\r\n                name=\"tgl_awal\"\r\n                component={InputDate}\r\n                label=\"Tanggal Dari\"\r\n                type=\"text\"\r\n                selected={this.state.tgl_awal}\r\n                onChange={(date) => this.setStartDate(date)}\r\n                placeholder=\"Masukan Tanggal Dari\"\r\n                onFocus={() => setTimeout(() => {\r\n                  HideKeyboard.postMessage(\"\")\r\n                }, 100)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-lg-4\">\r\n              <Field\r\n                name=\"tgl_akhir\"\r\n                component={InputDate}\r\n                type=\"text\"\r\n                selected={this.state.tgl_akhir}\r\n                onChange={(date) => this.setLastDate(date)}\r\n                label=\"Tanggal Akhir\"\r\n                placeholder=\"Masukan Tanggal Akhir\"\r\n                onFocus={() => setTimeout(() => {\r\n                  HideKeyboard.postMessage(\"\")\r\n                }, 100)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-lg-4\">\r\n              <div className=\"text-right\">\r\n                <label>&nbsp;</label>\r\n                <button\r\n                  type=\"submit\"\r\n                  value=\"PDF\"\r\n                  name=\"type_btn\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                >\r\n                  {this.props.isLoading ? (\r\n                    <>\r\n                      <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                      Mencari\r\n                    </>\r\n                  ) : (\r\n                    \"Cari Titipan\"\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n         {/* {/* {this.state.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHeadBatalTitipan = reduxForm({\r\n  form: \"HeadBatalTitipan\",\r\n  enableReinitialize: true,\r\n})(HeadBatalTitipan);\r\n\r\nexport default connect((state) => {\r\n  return {\r\n    initialValues: {\r\n      tgl_awal: getTglSystem(),\r\n      tgl_akhir: getTglSystem(),\r\n    },\r\n  };\r\n})(HeadBatalTitipan);\r\n","import {\r\n  React,\r\n  connect,\r\n  Link,\r\n  reduxForm,\r\n  Panel,\r\n  PanelHeader,\r\n  Tabel,\r\n  // getToday,\r\n  Swal,\r\n  moment,\r\n  formatDate,\r\n  setItem,\r\n  getItem,\r\n  ToastNotification,\r\n  ModalGlobal,\r\n  showModal,\r\n  ReanderSelect,\r\n  Field,\r\n  hideModal,\r\n  PanelBody,\r\n} from \"../../../components/helpers/library\";\r\nimport { getData, getData2, putData2 } from \"../../../config/axios\";\r\nimport HeadBatalTitipan from \"./HeadBatalTitipan\";\r\nimport Loading from \"react-fullscreen-loading\";\r\nimport { PageSettings } from \"../../../config/page-settings\";\r\n\r\nclass BatalTitipan extends React.Component {\r\n  static contextType = PageSettings;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      batal: false,\r\n      datatitipan: [],\r\n      databaki: [],\r\n      columns: [\r\n        {\r\n          dataField: \"no_titip_group\",\r\n          text: \"No Titip\",\r\n          footerAttrs: {\r\n            colSpan: \"4\",\r\n          },\r\n          footer: \"Total\",\r\n        },\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode\",\r\n        },\r\n\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n        },\r\n        {\r\n          dataField: \"nama_customer\",\r\n          text: \"Nama Customer\",\r\n        },\r\n\r\n        // {\r\n        //   dataField: \"nama_atribut\",\r\n        //   text: \"Nama Atribut\",\r\n        // },\r\n        // {\r\n        //   dataField: \"berat\",\r\n        //   text: \"Berat\",\r\n        //   formatter: (cell) => {\r\n        //     return <span>{cell.toFixed(3)}</span>;\r\n        //   },\r\n        //   footer: columnData => columnData.reduce((acc, item) => acc + item, 0).toFixed(3)\r\n        // },\r\n        // {\r\n        //   dataField: \"berat_atribut\",\r\n        //   text: \"Berat Atribut\",\r\n        //   formatter: (cell) => {\r\n        //     return <span>{cell.toFixed(3)}</span>;\r\n        //   },\r\n        //   footer: columnData => columnData.reduce((acc, item) => acc + item, 0).toFixed(3)\r\n        // },\r\n\r\n        // {\r\n        //   dataField: \"harga_atribut\",\r\n        //   text: \"Harga Atribut\",\r\n        //   formatter: (cell) => {\r\n        //     return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n        //   },\r\n        //   footer: columnData => parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"kr-KO\")\r\n\r\n        // },\r\n        // {\r\n        //   dataField: \"harga_jual\",\r\n        //   text: \"Harga Jual\",\r\n        //   formatter: (cell) => {\r\n        //     return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n        //   },\r\n        //   footer: columnData => parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"kr-KO\")\r\n\r\n        // },\r\n        {\r\n          dataField: \"total_dp\",\r\n          text: \"Total Dp\",\r\n          formatter: (rowcontent, row, index) => {\r\n            return (\r\n              <span>{parseInt(row.total_dp).toLocaleString(\"kr-KO\")}</span>\r\n            );\r\n          },\r\n\r\n          footer: (columnData) =>\r\n            parseInt(\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            ).toLocaleString(\"kr-KO\"),\r\n        },\r\n\r\n        {\r\n          dataField: \"harga_total\",\r\n          text: \"Total Harga\",\r\n          formatter: (cell) => {\r\n            return <span> {parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseInt(\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            ).toLocaleString(\"kr-KO\"),\r\n        },\r\n\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row, index) => {\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"button\"\r\n                    disabled={row.status_titipan !== \"FINIS\" ? false : true}\r\n                    data-tooltip={\r\n                      row.status_titipan !== \"FINIS\"\r\n                        ? \"Batal Titipan\"\r\n                        : \"Tidak Bisa Dibatal\"\r\n                    }\r\n                    onClick={() => this.showPilihBaki(row.no_titip_group)}\r\n                    className=\"btn btn-danger mr-3\"\r\n                  >\r\n                    <i className=\"fa fa-window-close\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n          footer: \"\",\r\n        },\r\n      ],\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  batalTitipan() {\r\n   \r\n    Swal.fire({\r\n      title: \"Anda Yakin !!\",\r\n      text: \"Ingin Membatalkan Titipan Ini ?\",\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        this.setState({\r\n          batal: true,\r\n        });\r\n        let tanggal = getItem(\"tgl_laporan\");\r\n        putData2(\"titip/cancel\", {\r\n          no_titip_group: this.state.no_titip_group,\r\n          kode_toko: this.state.kode_baki,\r\n        })\r\n          .then((res) => {\r\n            this.setState({\r\n              batal: false,\r\n            });\r\n            ToastNotification(\"success\", \"Titipan Berhasil Di Batal\");\r\n            this.props.dispatch(hideModal());\r\n            getData2(\r\n              \"titip/date/\" + tanggal.tgl_awal + \"/\" + tanggal.tgl_akhir\r\n            ).then((res) => {\r\n              // console.log(res.data);\r\n              let hasil = [];\r\n              res.data.filter((item, index) => {\r\n                // let status = res.data.findIndex(x => x.id === item.id) === index;\r\n                let row = {\r\n                  no_titip_group: item.no_titip_group,\r\n                  kode_barcode: item.kode_barcode,\r\n                  nama_barang: item.nama_barang,\r\n                  kode_customer: item.kode_customer,\r\n                  nama_customer: item.nama_customer,\r\n                  nama_atribut: item.nama_atribut,\r\n                  no_hp: item.no_hp,\r\n                  alamat_customer: item.alamat_customer,\r\n                  berat_atribut: item.berat_atribut,\r\n                  harga_atribut: item.harga_atribut,\r\n                  ongkos: item.ongkos,\r\n                  harga_total: item.harga_total,\r\n                  // status : res.data.findIndex(x => x.no_titip_group === item.no_titip_group) === index,\r\n                  total_dp:\r\n                    res.data.findIndex(\r\n                      (x) => x.no_titip_group === item.no_titip_group\r\n                    ) === index\r\n                      ? item.total_dp\r\n                      : 0,\r\n                };\r\n                hasil.push(row);\r\n                return row;\r\n              });\r\n              this.setState({\r\n                datatitipan: hasil,\r\n              });\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            ToastNotification(\r\n              \"info\",\r\n              /conflict/i.test(error.response.data.message || \"Error\")\r\n                ? \"Terjadi Kesalahan Saat Mengirim Data\"\r\n                : error.response.data.message\r\n            );\r\n          });\r\n      } else {\r\n        // console.log(\"test\");\r\n        this.setState({\r\n          batal: false,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  showPilihBaki(no_titip_group) {\r\n    this.setState({\r\n      no_titip_group: no_titip_group,\r\n    });\r\n    this.props.dispatch(showModal());\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.context.handleSetPageSidebar(false);\r\n    this.context.handleSetPageHeader(false);\r\n    getData(\"baki/ready\").then((res) => {\r\n      this.setState({\r\n        databaki: res.data,\r\n      });\r\n    });\r\n  }\r\n  handleSubmit(data) {\r\n    // console.log(data);\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n\r\n    getData2(\"titip/date/\" + data.tgl_awal + \"/\" + data.tgl_akhir)\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Data Yang Anda Cari Tidak Ada\");\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n        } else {\r\n          ToastNotification(\"success\", \"Data Titipan Tersedia\");\r\n          let data_post = {\r\n            tgl_awal: formatDate(\r\n              moment(new Date(data.tgl_awal)).format(\"YYYY-MM-DD\")\r\n            ),\r\n            tgl_akhir: formatDate(\r\n              moment(new Date(data.tgl_akhir)).format(\"YYYY-MM-DD\")\r\n            ),\r\n          };\r\n          let hasil = [];\r\n          res.data.filter((item, index) => {\r\n            // let status = res.data.findIndex(x => x.id === item.id) === index;\r\n            let row = {\r\n              no_titip_group: item.no_titip_group,\r\n              kode_barcode: item.kode_barcode,\r\n              nama_barang: item.nama_barang,\r\n              kode_customer: item.kode_customer,\r\n              nama_customer: item.nama_customer,\r\n              nama_atribut: item.nama_atribut,\r\n              no_hp: item.no_hp,\r\n              alamat_customer: item.alamat_customer,\r\n              berat_atribut: item.berat_atribut,\r\n              harga_atribut: item.harga_atribut,\r\n              ongkos: item.ongkos,\r\n              harga_total: item.harga_total,\r\n              // status : res.data.findIndex(x => x.no_titip_group === item.no_titip_group) === index,\r\n              total_dp:\r\n                res.data.findIndex(\r\n                  (x) => x.no_titip_group === item.no_titip_group\r\n                ) === index\r\n                  ? item.total_dp\r\n                  : 0,\r\n            };\r\n            hasil.push(row);\r\n            return row;\r\n          });\r\n          // console.log(hasil);\r\n          this.setState({\r\n            isLoading: false,\r\n            datatitipan: hasil,\r\n          });\r\n          setItem(\"tgl_laporan\", data_post);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        ToastNotification(\"info\", err.response=== undefined ? \"Terjadi Kesalahan Saat Request Data\" : err.response.data.message);\r\n        this.setState({\r\n          isLoading: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const expandRow = {\r\n      renderer: (row) => (\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              {row.kode_customer === \"NONMEMBER\"\r\n                ? \"\"\r\n                : \"kode Customer :\" +\r\n                  row.kode_customer +\r\n                  (\r\n                    <>\r\n                      {\" \"}\r\n                      <br />{\" \"}\r\n                    </>\r\n                  )}\r\n              No Hp : {row.no_hp} <br />\r\n              Alamat Customer : {row.alamat_customer} <br />\r\n              Nama Atribut : {row.nama_atribut} <br />\r\n              Betat Atribut : {row.berat_atribut.toFixed(3)} <br />\r\n              Harga Atribut : {row.harga_atribut.toLocaleString(\"kr-KO\")} <br />\r\n              Ongkos : {row.ongkos.toLocaleString(\"kr-KO\")} <br />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ),\r\n      showExpandColumn: true,\r\n      expandByColumnOnly: true,\r\n    };\r\n    return (\r\n      <div>\r\n        <Link to=\"/SubMenuPenjualan\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-secondary\"\r\n            data-tut=\"reactour_4\"\r\n          >\r\n            <i className=\"fa fa-angle-left mr-3\" aria-hidden=\"true\"></i> Home\r\n          </button>\r\n        </Link>\r\n        <br />\r\n        <br />\r\n        <Panel>\r\n          <PanelHeader>Lihat Titipan</PanelHeader>\r\n          <br />\r\n          {/* Blank Page */}\r\n          <PanelBody>\r\n            <HeadBatalTitipan\r\n              isLoading={this.state.isLoading}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n            />\r\n            <Tabel\r\n              keyField=\"kode_barcode\"\r\n              exportCsv={false}\r\n              data={this.state.datatitipan}\r\n              columns={this.state.columns}\r\n              empty={true}\r\n              textEmpty=\"Data Barang Kosong\"\r\n              expandRow={expandRow}\r\n            />\r\n          </PanelBody>\r\n\r\n          <br />\r\n          {/* End Tambah Blank Page  */}\r\n        </Panel>\r\n        <ModalGlobal\r\n          title={\"Pilih Baki\"}\r\n          size=\"l\"\r\n          content={\r\n            <>\r\n              <div className=\"col-lg-12\">\r\n                <Field\r\n                  name=\"kode_baki\"\r\n                  component={ReanderSelect}\r\n                  options={this.state.databaki\r\n                    .filter((list) => list.kode_baki !== undefined)\r\n                    .map((list) => {\r\n                      let data = {\r\n                        value: list.kode_baki,\r\n                        name: list.kode_baki,\r\n                      };\r\n                      return data;\r\n                    })}\r\n                  onChange={(e) =>\r\n                    this.setState({\r\n                      kode_baki: e,\r\n                    })\r\n                  }\r\n                  label=\"Kode Baki\"\r\n                  placeholder=\"Silahkan Pilih Kode Lokasi\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-12\">\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  disabled={this.state.batal}\r\n                  onClick={() => this.batalTitipan()}\r\n                  type=\"button\"\r\n                >\r\n                  {this.state.batal ? (\r\n                    <>\r\n                      <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Batal\r\n                    </>\r\n                  ) : (\r\n                    \"Batal\"\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </>\r\n          }\r\n        />\r\n        {this.state.batal ? (\r\n          <Loading\r\n            loading\r\n            background=\"rgba(0, 0, 0, 0.35)\"\r\n            loaderColor=\"rgba(94, 147, 117, 1)\"\r\n          />\r\n        ) : null}\r\n        {this.state.isLoading ? (\r\n          <Loading\r\n            loading\r\n            background=\"rgba(0, 0, 0, 0.35)\"\r\n            loaderColor=\"rgba(94, 147, 117, 1)\"\r\n          />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBatalTitipan = reduxForm({\r\n  form: \"BatalTitipan\",\r\n  enableReinitialize: true,\r\n})(BatalTitipan);\r\nexport default connect()(BatalTitipan);\r\n"],"sourceRoot":""}