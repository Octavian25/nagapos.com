{"version":3,"sources":["pages/Laporan/LaporanPenjualan/LaporanPenjualanBarang/FormLaporanPenjualanBarang.jsx"],"names":["HeadFormLaporanPenjualanBarang","lazy","__webpack_require__","e","then","bind","FormLaporanPenjualanBarang","props","_this","Object","C_Users_Octavian_OneDrive_Documents_GitHub_nagagold_online_react_pos_lite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_super","call","state","isLoading","LaporanDataPenjualan","export","handleSubmit","C_Users_Octavian_OneDrive_Documents_GitHub_nagagold_online_react_pos_lite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","data","JSON","parse","localStoragedecryp","setState","username","user_id","context","handleSetPageSidebar","handleSetPageHeader","_this2","data_post","tgl_awal","formatDate","moment","Date","format","tgl_akhir","marketplace","type","type_transaksi","kode_group","jenis_group","getData","concat","res","length","ToastNotification","localStorageencryp","stringify","catch","error","postDataNoTImeOut","_this3","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","className","data-tut","aria-hidden","_components_panel_panel__WEBPACK_IMPORTED_MODULE_8__","onSubmit","Component","contextType","PageSettings"],"mappings":"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","file":"static/js/92.2f685e63.chunk.js","sourcesContent":["import React, { Component, lazy } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { localStoragedecryp } from \"../../../../components/helpers/function\";\r\nimport {\r\n  Panel,\r\n  PanelBody,\r\n  PanelHeader,\r\n} from \"../../../../components/panel/panel\";\r\nimport { getData, postDataNoTImeOut } from \"../../../../config/axios\";\r\nimport { formatDate, localStorageencryp } from \"../../../../components/helpers/function.jsx\";\r\nimport { ToastNotification } from \"../../../../components/helpers/notification.jsx\";\r\nimport * as moment from \"moment-timezone\";\r\nimport { PageSettings } from \"../../../../config/page-settings\";\r\n\r\nconst HeadFormLaporanPenjualanBarang = lazy(() =>\r\n  import(\"./HeadFormLaporanPenjualanBarang\")\r\n);\r\n\r\nclass FormLaporanPenjualanBarang extends Component {\r\n  static contextType = PageSettings; \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      LaporanDataPenjualan: [],\r\n      export: false,\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    let data = JSON.parse(localStoragedecryp(\"userdata\"));\r\n    this.setState({ username: data.user_id });\r\n    this.context.handleSetPageSidebar(false);\r\n\t\tthis.context.handleSetPageHeader(false);\r\n  }\r\n  handleSubmit(data) {\r\n    this.setState({ isLoading: true });\r\n    let data_post = {\r\n      tgl_awal: formatDate(moment(new Date(data.tgl_awal)).format('YYYY-MM-DD')),\r\n      tgl_akhir: formatDate(moment(new Date(data.tgl_akhir)).format('YYYY-MM-DD')),\r\n      marketplace: data.marketplace,\r\n      type: data.type_transaksi,\r\n      kode_group: data.kode_group,\r\n      jenis_group: data.jenis_group,\r\n    };\r\n    let url = \"penjualan/get/report\";\r\n    if(data.type === \"SELISIH\"){\r\n      getData(`penjualan/report-selisih?tanggal[gte]=${data_post.tgl_awal}&tanggal[lte]=${data_post.tgl_akhir}&marketplace=${data_post.marketplace}`, data_post)\r\n      .then((res) => {\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n          this.setState({\r\n            isLoading: false,\r\n            export: false,\r\n          });\r\n        } else {\r\n          ToastNotification(\"success\", \"Laporan Transaksi Penjualan Tersedia\");\r\n          localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\r\n          this.setState({\r\n            LaporanDataPenjualan: [],\r\n          });\r\n          this.setState({\r\n            export: true,\r\n            isLoading: false,\r\n            LaporanDataPenjualan: res.data,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n        this.setState({\r\n          isLoading: false,\r\n          export: false,\r\n        });\r\n      });\r\n      return false\r\n    }\r\n    postDataNoTImeOut(url, data_post)\r\n      .then((res) => {\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n          this.setState({\r\n            isLoading: false,\r\n            export: false,\r\n          });\r\n        } else {\r\n          ToastNotification(\"success\", \"Laporan Transaksi Penjualan Tersedia\");\r\n          localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\r\n          this.setState({\r\n            LaporanDataPenjualan: [],\r\n          });\r\n          this.setState({\r\n            export: true,\r\n            isLoading: false,\r\n            LaporanDataPenjualan: res.data,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n        this.setState({\r\n          isLoading: false,\r\n          export: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n            <Link to=\"/SubMenuLaporan\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-secondary\"\r\n            data-tut=\"reactour_4\"\r\n          >\r\n            <i className=\"fa fa-angle-left mr-3\" aria-hidden=\"true\"></i> Home\r\n          </button>\r\n        </Link>\r\n        <br />\r\n        <br />\r\n        <Panel>\r\n          <PanelHeader>Laporan Transaksi Penjualan</PanelHeader>\r\n          <PanelBody>\r\n            {/* {console.log(this.state.hidden)} */}\r\n            <HeadFormLaporanPenjualanBarang\r\n              export={this.state.export}\r\n              isLoading={this.state.isLoading}\r\n              LaporanDataPenjualan={this.state.LaporanDataPenjualan}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n            />\r\n          </PanelBody>\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default FormLaporanPenjualanBarang;\r\n"],"sourceRoot":""}