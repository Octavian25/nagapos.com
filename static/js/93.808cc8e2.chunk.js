(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{1076:function(t,e,a){"use strict";a.r(e);var n=a(19),r=a(20),o=a(50),l=a(22),i=a(21),s=a(0),c=a.n(s),g=a(38),h=a(287),u=a(288),p=a(24),m=a(7),E=a(90),f=a(126),d=a(102),b=(a(207),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],new d.default("l","mm",[297,210])),n=[],r=30,o=0,l=0,i=0,s=0,c=0,g=0,h=0,u=0,p=0,E=0,f=0,b=0,k=0,S=0,O=0,y=0,x=0,C=Object(m.j)().alamat_toko.length;a.setFontSize(15),a.text("LAPORAN TRANSAKSI PENJUALAN",14,15),a.setFontSize(20),a.text(Object(m.j)().nama_toko,200,15),a.setFontSize(8),C>20&&a.text(Object(m.j)().alamat_toko.slice(0,48),200,20),C>50&&a.text(Object(m.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN TRANSAKSI PENJUALAN"}),a.text("PERIODE : ".concat(0===Object(m.l)("tgl_laporan").length?null:JSON.parse(Object(m.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(m.l)("tgl_laporan")).tgl_akhir),14,25);t.forEach(function(t,e){t.pembayaran.forEach(function(t,e){k="CASH"===t.jenis?parseInt(k)+parseInt(t.jumlah_in):parseInt(k),S="TRANSFER"===t.jenis?parseInt(S)+parseInt(t.jumlah_in):parseInt(S),O="DEBET"===t.jenis?parseInt(O)+parseInt(t.jumlah_in):parseInt(O),y="CREDIT"===t.jenis?parseInt(y)+parseInt(t.jumlah_in):parseInt(y),x="TUKAR"===t.jenis?parseInt(x)+parseInt(t.jumlah_in):parseInt(x)})}),t.forEach(function(t,a){u=void 0===t.pembayaran?0:0!==t.pembayaran.filter(function(t){return"CASH"===t.jenis}).length?t.pembayaran.filter(function(t){return"CASH"===t.jenis})[0].jumlah_in.toLocaleString("kr-KO"):0,p=void 0===t.pembayaran?0:0!==t.pembayaran.filter(function(t){return"TRANSFER"===t.jenis}).length?t.pembayaran.filter(function(t){return"TRANSFER"===t.jenis})[0].jumlah_in.toLocaleString("kr-KO"):0,E=void 0===t.pembayaran?0:0!==t.pembayaran.filter(function(t){return"DEBET"===t.jenis}).length?t.pembayaran.filter(function(t){return"DEBET"===t.jenis})[0].jumlah_in.toLocaleString("kr-KO"):0,f=void 0===t.pembayaran?0:0!==t.pembayaran.filter(function(t){return"CREDIT"===t.jenis}).length?t.pembayaran.filter(function(t){return"CREDIT"===t.jenis})[0].jumlah_in.toLocaleString("kr-KO"):0,b=void 0===t.pembayaran?0:0!==t.pembayaran.filter(function(t){return"TUKAR"===t.jenis}).length?t.pembayaran.filter(function(t){return"TUKAR"===t.jenis})[0].jumlah_in.toLocaleString("kr-KO"):0,t.detail.forEach(function(t,a){var r=[t.no_faktur_jual,t.nama_customer,{content:Object(m.f)(t.berat,3),styles:{halign:"right",textColor:"#000"}},{content:parseInt(t.harga_jual).toLocaleString("kr-KO"),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(parseInt(t.harga_atribut)).toLocaleString("kr-KO"),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(parseInt(t.ongkos)).toLocaleString("kr-KO"),styles:{halign:"right",textColor:"#000"}},{content:parseInt(t.harga_total).toLocaleString("kr-KO"),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(u),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(p),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(f),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(E),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(b),styles:{halign:"right",textColor:"#000"}}],h=[t.no_faktur_jual,t.nama_customer,{content:Object(m.f)(t.berat,3),styles:{halign:"right",textColor:"#000"}},{content:Object(m.f)(t.berat_selisih,3),styles:{halign:"right",textColor:"#000"}},{content:parseInt(t.harga_jual).toLocaleString("kr-KO"),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(parseInt(t.harga_atribut)).toLocaleString("kr-KO"),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(parseInt(t.ongkos)).toLocaleString("kr-KO"),styles:{halign:"right",textColor:"#000"}},{content:parseInt(t.harga_total).toLocaleString("kr-KO"),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(u),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(p),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(f),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(E),styles:{halign:"right",textColor:"#000"}},{content:Object(m.k)(b),styles:{halign:"right",textColor:"#000"}},t.kode_marketplace];parseFloat(t.berat_awal),o+=parseFloat(t.berat),l+=parseFloat(t.berat_selisih),i+=parseInt(t.ongkos),s+=parseInt(t.harga_jual),parseInt(t.berat_atribut),c+=parseInt(t.harga_atribut),parseInt(t.harga_gram),g+=parseInt(t.harga_total),parseFloat(t.berat_awal),parseFloat(t.berat),parseFloat(t.berat_selisih),parseInt(t.ongkos),parseInt(t.harga_jual),parseInt(t.berat_atribut),parseInt(t.harga_atribut),parseInt(t.harga_gram),parseInt(t.harga_total),"SELISIH"===e?n.push(h):n.push(r)}),h+=t.detail.length,t.detail.length});var j=[{content:"Total Transaksi Penjualan : ".concat(h),colSpan:2,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(Object(m.f)(o,3)),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(parseInt(s).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(Object(m.k)(parseInt(c).toLocaleString("kr-KO"))),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(Object(m.k)(parseInt(i)).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(parseInt(g).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(0===k?"":parseInt(k).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(0===S?"":parseInt(S).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(0===y?"":parseInt(y).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(0===O?"":parseInt(O).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(0===x?"":parseInt(x).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}}],_=[{content:"Total Transaksi Penjualan : ".concat(h),colSpan:2,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(Object(m.f)(o,3)),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(Object(m.f)(l,3)),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(parseInt(s).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(parseInt(c).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(Object(m.k)(parseInt(i)).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(parseInt(g).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(0===k?"":parseInt(k).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(0===S?"":parseInt(S).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(0===y?"":parseInt(y).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(0===O?"":parseInt(O).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(0===x?"":parseInt(x).toLocaleString("kr-KO")),styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}}];n.push("SEMUA"===e?j:_);var A=[{content:"Printed By ".concat(JSON.parse(Object(m.l)("userdata")).user_id," / ").concat(Object(m.i)()),colSpan:13,styles:{fontStyle:"italic",textColor:"#000"}}];n.push(A),a.autoTable({head:"SEMUA"===e?[[{content:"NO FJ"},{content:"NAMA MEMBER"},{content:"BERAT",styles:{halign:"right"}},{content:"HARGA JUAL",styles:{halign:"right"}},{content:"HARGA ATRIBUT",styles:{halign:"right"}},{content:"ONGKOS",styles:{halign:"right"}},{content:"HARGA TOTAL",styles:{halign:"right"}},{content:"CASH",styles:{halign:"right"}},{content:"TRANSFER",styles:{halign:"right"}},{content:"CREDIT",styles:{halign:"right"}},{content:"DEBET",styles:{halign:"right"}},{content:"TUKAR",styles:{halign:"right"}}]]:[[{content:"NO FJ"},{content:"NAMA MEMBER"},{content:"BERAT"},{content:"BERAT SELISIH"},{content:"HARGA JUAL"},{content:"HARGA ATRIBUT"},{content:"ONGKOS"},{content:"HARGA TOTAL"},{content:"CASH"},{content:"TRANSFER"},{content:"CREDIT"},{content:"DEBET"},{content:"TUKAR"}]],body:n,startY:r,theme:"plain",rowPageBreak:"avoid",margin:{top:10},footStyles:{fontSize:8},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"},tableLineColor:[255,255,255],tableLineWidth:1}),r=a.autoTableEndPosY()+3,n=[];var L=a.internal.getNumberOfPages(),v=a.internal.pageSize.width,I=a.internal.pageSize.height;a.setFontSize(10);for(var N=1;N<L+1;N++){var K=v/2,T=I-10;a.setPage(N),a.text("".concat(N," of ").concat(L),K,T,{align:"center"})}var F=a.output("datauristring");PrintPenjualan.postMessage(F)}),k=a(58),S=a.n(k),O=a(11),y=function(t){Object(l.a)(a,t);var e=Object(i.a)(a);function a(t){var r;return Object(n.a)(this,a),(r=e.call(this,t)).state={date:new Date,type_laporan:"SEMUA",databarang:[]},r.setStartDate=r.setStartDate.bind(Object(o.a)(r)),r.setLastDate=r.setLastDate.bind(Object(o.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.change("type","SEMUA"),this.props.change("type_transaksi","SEMUA"),this.props.change("marketplace","SEMUA"),this.props.change("kode_group","ALL"),this.props.change("jenis_group","ALL"),this.props.dispatch(Object(O.v)()),this.props.dispatch(Object(O.tb)())}},{key:"exportPdf",value:function(){b(this.props.LaporanDataPenjualan,this.state.type_laporan)}},{key:"setStartDate",value:function(t){this.setState({tgl_awal:new Date(t)})}},{key:"setLastDate",value:function(t){this.setState({tgl_akhir:new Date(t)})}},{key:"typeLaporan",value:function(t){"SEMUA"===t?this.setState({type_laporan:"SEMUA"}):this.setState({type_laporan:"SELISIH"})}},{key:"render",value:function(){var t=this,e=[{value:"SEMUA",name:"SEMUA"}];this.props.getDataMarketplace.forEach(function(t){var a={value:t.kode_marketplace,name:t.kode_marketplace+" - "+t.nama_marketplace};e.push(a)});var a=[],n=0,r=0,o=0,l=0,i=0,s=0;this.props.LaporanDataPenjualan.forEach(function(t){t.detail.forEach(function(t){a.push(t),n+=t.berat,r+=t.berat_selisih,l+=t.harga_atribut,o+=t.ongkos,i+=t.harga_jual,s+=t.harga_total,t.harga_gram})});var g=[{value:"ALL",name:"SEMUA"}];this.props.GetDataGroup.forEach(function(t){var e={name:t.kode_group,value:t.kode_group};g.push(e)});var u=[{dataField:"no_faktur_jual",text:"No FJ",footerAttrs:{colSpan:"2"},footer:function(t,e,n,r){return c.a.createElement("div",null,"Total Barang : ",a.length," ")}},{dataField:"nama_customer",text:"Nama Member"},{dataField:"berat",text:"Berat",headerClasses:"text-right",footer:function(t,e,a,r){return c.a.createElement("div",{className:"text-right"},Object(m.f)(n,3)," ")},formatter:function(t){return c.a.createElement("div",{className:"text-right"},Object(m.f)(t,3))}},{dataField:"harga_jual",text:"Harga Jual",headerClasses:"text-right",footer:function(t,e,a,n){return c.a.createElement("div",{className:"text-right"},i.toLocaleString("kr-KO")," ")},formatter:function(t){return c.a.createElement("div",{className:"text-right"},t.toLocaleString("kr-KO"))}},{dataField:"harga_atribut",text:"Harga Atribut",headerClasses:"text-right",footer:function(t,e,a,n){return c.a.createElement("div",{className:"text-right"},l.toLocaleString("kr-KO")," ")},formatter:function(t){return c.a.createElement("div",{className:"text-right"},t.toLocaleString("kr-KO"))}},{dataField:"ongkos",text:"Ongkos",headerClasses:"text-right",footer:function(t,e,a,n){return c.a.createElement("div",{className:"text-right"},o.toLocaleString("kr-KO")," ")},formatter:function(t){return c.a.createElement("div",{className:"text-right"},t.toLocaleString("kr-KO"))}},{dataField:"harga_total",text:"Harga Total",headerClasses:"text-right",footer:function(t,e,a,n){return c.a.createElement("div",{className:"text-right"},s.toLocaleString("kr-KO")," ")},formatter:function(t){return c.a.createElement("div",{className:"text-right"},t.toLocaleString("kr-KO"))}}],f=[{dataField:"no_faktur_jual",text:"No FJ",footerAttrs:{colSpan:"2"},footer:function(t,e,n,r){return c.a.createElement("div",null,"Total Barang : ",a.length," ")}},{dataField:"nama_customer",text:"Nama Member"},{dataField:"berat",text:"Berat",headerClasses:"text-right",footer:function(t,e,a,r){return c.a.createElement("div",{className:"text-right"},Object(m.f)(n,3)," ")},formatter:function(t){return c.a.createElement("div",{className:"text-right"},Object(m.f)(t,3))}},{dataField:"berat_selisih",text:"Berat Selisih",headerClasses:"text-right",footer:function(t,e,a,n){return c.a.createElement("div",{className:"text-right"},Object(m.f)(r,3)," ")},formatter:function(t){return c.a.createElement("div",{className:"text-right"},Object(m.f)(t,3))}},{dataField:"harga_jual",text:"Harga Jual",headerClasses:"text-right",footer:function(t,e,a,n){return c.a.createElement("div",{className:"text-right"},i.toLocaleString("kr-KO")," ")},formatter:function(t){return c.a.createElement("div",{className:"text-right"},t.toLocaleString("kr-KO"))}},{dataField:"harga_atribut",text:"Harga Atribut",headerClasses:"text-right",footer:function(t,e,a,n){return c.a.createElement("div",{className:"text-right"},l.toLocaleString("kr-KO")," ")},formatter:function(t){return c.a.createElement("div",{className:"text-right"},t.toLocaleString("kr-KO"))}},{dataField:"ongkos",text:"Ongkos",headerClasses:"text-right",footer:function(t,e,a,n){return c.a.createElement("div",{className:"text-right"},o.toLocaleString("kr-KO")," ")},formatter:function(t){return c.a.createElement("div",{className:"text-right"},t.toLocaleString("kr-KO"))}},{dataField:"harga_total",text:"Harga Total",headerClasses:"text-right",footer:function(t,e,a,n){return c.a.createElement("div",{className:"text-right"},s.toLocaleString("kr-KO")," ")},formatter:function(t){return c.a.createElement("div",{className:"text-right"},t.toLocaleString("kr-KO"))}}],d={renderer:function(t){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},"Berat Awal : ",Object(m.f)(t.berat_awal,3)," ",c.a.createElement("br",null),"Berat Selisih : ",Object(m.f)(t.berat_selisih,3)," ",c.a.createElement("br",null),"Nama Atribut : ",t.nama_atribut," ",c.a.createElement("br",null),"Berat Atribut : ",t.berat_atribut," ",c.a.createElement("br",null),"Harga Atribut : ",t.harga_atribut.toLocaleString("kr-KO")," ",c.a.createElement("br",null),"Ongkos : ",t.ongkos.toLocaleString("kr-KO")," ",c.a.createElement("br",null),"Harga/Gram : ",t.harga_gram.toLocaleString("kr-KO")," ",c.a.createElement("br",null),"Nama Member : ",t.nama_customer," ",c.a.createElement("br",null))))},showExpandColumn:!0,expandByColumnOnly:!0};return c.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(h.a,{name:"tgl_awal",component:p.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:function(e){return t.setStartDate(e)},placeholder:"Masukan Tanggal Dari",onFocus:function(){return setTimeout(function(){HideKeyboard.postMessage("")},100)}})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(h.a,{name:"tgl_akhir",component:p.c,type:"text",selected:this.state.tgl_akhir,onChange:function(e){return t.setLastDate(e)},label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir",onFocus:function(){return setTimeout(function(){HideKeyboard.postMessage("")},100)}})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(h.a,{name:"type",component:p.f,onChange:function(e){return t.typeLaporan(e)},options:[{value:"SEMUA",name:"SEMUA"},{value:"SELISIH",name:"SELISIH"}],label:"Type Laporan",placeholder:"Pilih Type"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(h.a,{name:"type_transaksi",component:p.f,options:[{value:"SEMUA",name:"SEMUA"},{value:"PENJUALAN",name:"PENJUALAN"},{value:"AMBILTITIPAN",name:"AMBIL TITIPAN"},{value:"AMBILPESANAN",name:"AMBIL PESANAN"}],label:"Type Transaksi",placeholder:"Pilih Type Transaksi"})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(h.a,{name:"kode_group",component:p.f,options:g,onChange:function(e){return t.setState({kode_group:e})},label:"Kode Group",placeholder:"Pilih Kode Group"})),c.a.createElement("div",{className:"col-lg-3"},c.a.createElement(h.a,{name:"jenis_group",component:p.f,options:[{value:"ALL",name:"SEMUA"},{value:"MUDA",name:"MUDA"},{value:"TUA",name:"TUA"}],label:"Jenis Group",placeholder:"Pilih Jenis Group"})),c.a.createElement("div",{className:"col-lg-2"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"\xa0"),c.a.createElement("br",null),c.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),c.a.createElement("div",{className:"col-12"},c.a.createElement(E.a,{keyField:"no_faktur_jual",data:this.props.export?a:[],columns:"SELISIH"===this.state.type_laporan?f:u,empty:!0,textEmpty:"Data Laporan Transaksi Penjualan Kosong",expandRow:d})),c.a.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("button",{type:"button",onClick:function(){return t.exportPdf()},className:"btn btn-warning btn-block"}," ","Export PDF"," "))))),this.props.isLoading?c.a.createElement(S.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),a}(s.Component);y=Object(u.a)({form:"HeadFormLaporanPenjualanBarang",enableReinitialize:!0,validate:f.a})(y);e.default=Object(g.b)(function(t){return{getDataMarketplace:t.datamaster.getDataMarketplace,GetDataGroup:t.datamaster.GetDataGroup,initialValues:{tgl_awal:Object(m.h)(),tgl_akhir:Object(m.h)()}}})(y)}}]);
//# sourceMappingURL=93.808cc8e2.chunk.js.map